---
import Layout from "../../layouts/Layout.astro";
import "../../styles/global.css";
---

<Layout title="UTAU">
    <div class="mx-auto max-w-7xl px-8 sm:px-6 lg:px-8">
        <section
            class="relative min-h-[80vh] flex items-center pt-24 pb-20 md:pt-32"
        >
            <img
                src="/images/corecat-v1-illust.png"
                class="absolute top-24 right-0 w-full max-w-[40rem] brightness-10 md:brightness-100 -z-10"
                data-aos="fade-up"
            />
            <div
                class="relative w-full space-y-8"
                data-aos="fade-up"
                data-aos-delay="200"
            >
                <div
                    class="absolute -top-24 -left-24 w-96 h-96 bg-gradient-to-r from-[var(--accent1)] to-[var(--accent2)] rounded-full blur-3xl opacity-20"
                >
                </div>
                <div class="space-y-6 max-w-2xl">
                    <h1
                        class="text-5xl md:text-7xl font-extrabold gradient-text leading-tight"
                    >
                        CoreCat <span class="text-white/80">(UTAU)</span>
                        <span
                            class="block mt-4 text-xl md:text-2xl font-normal text-white/70"
                        >
                            Voicebank of a character by Core5570R
                        </span>
                    </h1>
                    <a
                        id="download-button"
                        href="/downloads/corecat-utau.zip"
                        class="group relative z-10 inline-flex items-center justify-center bg-gradient-to-r from-[var(--accent1)] to-[var(--accent2)] text-white px-8 py-4 rounded-full text-lg font-medium shadow-2xl hover:shadow-[0_0_40px_-5px_var(--accent1)] transition-all duration-300 hover:scale-[1.02]"
                    >
                        <span>Download <span id="file-size"></span></span>
                        <svg
                            class="ml-3 w-5 h-5 transition-transform group-hover:translate-y-0.5"
                            viewBox="0 0 24 24"
                            fill="none"
                            stroke="currentColor"
                            stroke-width="2"
                        >
                            <path d="M12 3v14m0 0l5-5m-5 5l-5-5"></path>
                        </svg>
                    </a>

                    <script>
                        async function fetchFileSize() {
                            const url = "/downloads/corecat-utau.zip";
                            try {
                                const response = await fetch(url, {
                                    method: "HEAD",
                                });
                                if (!response.ok)
                                    throw new Error(
                                        "Failed to fetch file info",
                                    );

                                const contentLength =
                                    response.headers.get("content-length");
                                if (contentLength) {
                                    const sizeInMB = (
                                        parseInt(contentLength, 10) /
                                        (1024 * 1024)
                                    ).toFixed(2);
                                    document.getElementById(
                                        "file-size",
                                    ).textContent = `(${sizeInMB} MB)`;
                                }
                            } catch (error) {
                                console.error(
                                    "Error fetching file size:",
                                    error,
                                );
                            }
                        }

                        fetchFileSize();
                    </script>
                </div>
            </div>
        </section>

        <section class="py-20" data-aos="fade-up">
            <div class="max-w-5xl mx-auto">
                <h2
                    class="text-4xl md:text-5xl font-extrabold gradient-text w-fit mb-12"
                >
                    Terms of Use
                </h2>
                <div class="grid md:grid-cols-2 gap-6">
                    {
                        [
                            {
                                icon: "check_circle",
                                title: "What You Can Do",
                                text: "Feel free to use this voicebank for personal and commercial projects, as long as you follow the Terms of Use.",
                            },
                            {
                                icon: "copyright",
                                title: "Crediting",
                                text: "If you use this voicebank, please credit Core5570R. A simple mention is enough.",
                            },
                            {
                                icon: "block",
                                title: "What's Not Allowed",
                                text: "Don't use this voicebank for anything illegal, offensive, or harmful. That means no NSFW, hate speech, political drama, or anything like that.",
                            },
                            {
                                icon: "lock",
                                title: "Redistribution & Commercial Use",
                                text: "Want to share or sell something with this voicebank? Just ask first. Redistribution and commercial use are cool as long as you get permission.",
                            },
                        ].map(({ icon, title, text }) => (
                            <div class="p-6 bg-gradient-to-br from-white/5 to-white/0 rounded-2xl border border-white/10 backdrop-brightness-[20%] backdrop-blur-lg">
                                <div class="flex items-start gap-4">
                                    <span class="material-icons text-3xl gradient-text w-fit">
                                        {icon}
                                    </span>
                                    <div>
                                        <h3 class="text-xl font-semibold mb-2 gradient-text w-fit">
                                            {title}
                                        </h3>
                                        <p class="opacity-80 leading-relaxed">
                                            {text}
                                        </p>
                                    </div>
                                </div>
                            </div>
                        ))
                    }
                </div>
            </div>
        </section>

        <section class="py-20" data-aos="fade-up">
            <div class="max-w-5xl mx-auto">
                <h2
                    class="text-4xl md:text-5xl font-extrabold gradient-text w-fit mb-12"
                >
                    Changelogs
                </h2>
                <div
                    class="relative space-y-12 before:absolute before:left-6 before:h-full before:w-[2px] before:bg-gradient-to-b from-[var(--accent1)] to-[var(--accent2)]"
                >
                    {
                        [
                            {
                                version: "1.2",
                                date: "March 12, 2025",
                                title: "Small oto changes",
                                changes: [
                                    "Vowel transitions are tweaked",
                                    "Optimized oto.ini configurations",
                                ],
                            },
                            {
                                version: "1.0",
                                date: "March 10, 2025",
                                title: "Initial Release",
                                changes: ["Base CV Japanese voicebank"],
                            },
                        ].map(({ version, date, title, changes }) => (
                            <div class="relative pl-20 group">
                                <div class="absolute left-0 top-2 w-12 h-12 rounded-full bg-gradient-to-br from-[var(--accent1)] to-[var(--accent2)] flex items-center justify-center">
                                    <span class="text-white font-extrabold">
                                        {version}
                                    </span>
                                </div>
                                <div class="text-sm text-[var(--accent1)] font-medium mb-2">
                                    {date}
                                </div>
                                <h3 class="text-2xl font-semibold mb-4">
                                    {title}
                                </h3>
                                <ul class="space-y-3 opacity-90">
                                    {changes.map((change) => (
                                        <li class="flex items-center gap-2">
                                            <div class="w-2 h-2 bg-[var(--accent1)] rounded-full" />
                                            {change}
                                        </li>
                                    ))}
                                </ul>
                            </div>
                        ))
                    }
                </div>
            </div>
        </section>
    </div>
</Layout>
